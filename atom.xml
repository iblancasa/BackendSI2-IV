<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[BackendSI2 - IV]]></title>
  <link href="http://iblancasa.github.io/BackendSI2-IV/atom.xml" rel="self"/>
  <link href="http://iblancasa.github.io/BackendSI2-IV/"/>
  <updated>2014-12-16T22:03:31+01:00</updated>
  <id>http://iblancasa.github.io/BackendSI2-IV/</id>
  <author>
    <name><![CDATA[Israel Blancas]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Cómo Realizar Un Despliegue en Heroku]]></title>
    <link href="http://iblancasa.github.io/BackendSI2-IV/blog/2014/12/16/como-realizar-un-despliegue-en-heroku/"/>
    <updated>2014-12-16T22:01:26+01:00</updated>
    <id>http://iblancasa.github.io/BackendSI2-IV/blog/2014/12/16/como-realizar-un-despliegue-en-heroku</id>
    <content type="html"><![CDATA[<p>En primer lugar es preciso tener una cuenta en <a href="https://www.heroku.com/">Heroku</a>.
Tras haber realizado el registro, nos dirigimos a nuestro <a href="https://dashboard-next.heroku.com/apps">dashboard</a>. Una vez allí, deberemos indicar que queremos crear una nueva aplicación (indicando el nombre de la misma). Aparecerá una pantalla similar a esta:</p>

<p><img src="http://fotos.subefotos.com/2ba372c3bddefd5dbf477ce77d86014do.jpg" alt="Captura 1" /></p>

<p>Deberemos seguir los pasos que se nos indican:</p>

<ol>
<li>Descargamos e instalamos la utilidad <a href="https://toolbelt.heroku.com/">&ldquo;Heroku Toolbelt&rdquo;</a> en función del sistema operativo que utilicemos.</li>
<li>Creamos el repositorio y añadimos los repositorios remotos de Heroku.</li>
<li>Lo desplegamos</li>
</ol>


<p>Durante alguno de estos pasos, se nos pedirá identificarnos con nuestros credenciales de Heroku. Además, puede que se nos pida la creación de una clave para la comunicación con Heroku (a lo que deberemos contestar que sí).</p>

<hr />

<h2>Cómo desplegar una aplicación de ejemplo</h2>

<p>En los siguientes pasos vamos a ver cómo desplegar una aplicación de ejemplo:</p>

<ol>
<li>En primer lugar hacemos clone de un repositorio. Ejemplo:
<code>git clone https://github.com/heroku/node-js-getting-started.git</code></li>
<li>Entramos en el directorio que se ha creado. En el caso del ejemplo, &ldquo;node-js-getting-started&rdquo;.</li>
<li>Creamos la aplicación mediante <code>heroku create --http-git</code>. El nombre se seleccionará de forma automática. Podemos pasarle como argumento un nombre elegido por nosotros: <code>heroku create [nombre] --http-git</code></li>
<li>Al haber creado la aplicación en ese directorio, se habrá añadido automáticamente el repositorio remoto de Heroku. Ahora solo deberemos añadir, mediante git, los ficheros que hayamos modificado y asociarlos a un &ldquo;commit&rdquo;. Tras esto, ejecutaremos <code>git push heroku master</code>.</li>
<li>Activamos el número de &ldquo;dynos&rdquo; que queremos tener en Heroku. <code>heroku ps:scale web=1</code></li>
<li>Abrimos nuestra aplicación recién desplegada con <code>heroku open</code></li>
<li>Cuando queramos desactivarla, ejecutaremos <code>heroku ps:scale web=0</code> en el directorio de la aplicación</li>
</ol>


<hr />

<h2>Desplegando nuestra aplicación (solo para desarrolladores)</h2>

<ol>
<li><p>En primer lugar hacemos clone del repositorio.
<code>git clone https://github.com/iblancasa/BackendSI2-IV.git</code>
Es posible que nos de fallo si no tenemos una llave SSH generada, podemos generarla y añadirla a heroku facilmente con <code>heroku:keys add</code> Puedes ver abajo el enlace sobre administración de claves SSH.</p></li>
<li><p>Entramos en el directorio que se ha creado. En el caso del ejemplo, &ldquo;BackendSI2-IV&rdquo;.</p></li>
<li><p>Añadimos el repositorio remoto de Heroku  <code>heroku git:clone -a  backendsi2</code></p></li>
<li><p>Ahora solo deberemos añadir, mediante git, los ficheros que hayamos modificado y asociarlos a un &ldquo;commit&rdquo;. Tras esto, ejecutaremos <code>git push heroku master</code>.</p></li>
<li><p>Activamos el número de &ldquo;dynos&rdquo; que queremos tener en Heroku. <code>heroku ps:scale web=1 --app backendsi2</code></p></li>
<li><p>Abrimos nuestra aplicación recién desplegada con <code>heroku open --app backendsi2</code></p></li>
<li><p>Cuando queramos desactivarla, ejecutaremos <code>heroku ps:scale web=0</code> en el directorio de la aplicación</p></li>
</ol>


<h4>Enlaces interesantes</h4>

<ul>
<li><a href="http://www.genbetadev.com/herramientas/manejo-de-ramas-de-desarrollo-con-git">Manejo de ramas en Git</a></li>
<li><a href="https://devcenter.heroku.com/articles/getting-started-with-nodejs#set-up">Getting started with NodeJS</a></li>
<li><a href="https://devcenter.heroku.com/articles/keys#validate-the-connection">Administración de claves SSH</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[¿Por Qué Heroku?]]></title>
    <link href="http://iblancasa.github.io/BackendSI2-IV/blog/2014/12/15/por-que-heroku/"/>
    <updated>2014-12-15T10:54:37+01:00</updated>
    <id>http://iblancasa.github.io/BackendSI2-IV/blog/2014/12/15/por-que-heroku</id>
    <content type="html"><![CDATA[<p>Para la elección del PaaS, es necesario tener en cuenta los requisitos del sistema a desarrollar y las herramientas que hemos estimado necesarias:
+ Integración continua con Git
+ Soporte para MongoDB
+ Soporte para NodeJS
+ Gratuidad
+ Que la integración con el sistema no sea excesiva</p>

<p><a href="http://heroku.com"><img src="http://fotos.subefotos.com/4ac2316654531143389c1badd7530348o.jpg" alt="Heroku" /></a></p>

<h3>¿Qué ofrece Heroku?</h3>

<ul>
<li>Soporte para Git con integración continua</li>
<li>Soporte para MongoDB</li>
<li>La versión gratuita nos ofrece 512MB de RAM y 1GB de SWAP</li>
<li>La empresa que está detrás es <a href="http://www.salesforce.com/es/">SalesForce</a></li>
<li>Dispone de NodeJS</li>
<li>Hay muchos Addons</li>
<li>Soporte a través de tickets</li>
<li>Mucha documentación</li>
<li>Dispone de SSL</li>
<li><a href="https://devcenter.heroku.com/articles/limits">Más información</a></li>
</ul>


<p>Comentarios:
    ofrece todo lo que nuestro sistema necesita.</p>

<h2>Otras posibilidades</h2>

<p><a href="https://appengine.google.com/"><img src="http://fotos.subefotos.com/c96bbe942013cd33869ddd616772d5f1o.jpg" alt="Google App Engine" /></a></p>

<h3>¿Qué ofrece Google App Engine?</h3>

<ul>
<li>Java, Go, PHP y PHP: no dispone de NodeJS</li>
<li>Distintos métodos de almacenamiento (propios)</li>
<li>Alta integración entre el PaaS y la aplícación</li>
<li>Posibilidad de integrar servicios varios de Google</li>
</ul>


<p>Comentarios:
    dos de nuestros integrantes realizaron en el segundo cuatrimestre del curso 2013-2014 <a href="http://opencloudcalendar.appspot.com/">una aplicación utilizando este PaaS</a> y cuentan que tuvieron muchos problemas con el mismo.</p>

<p><a href="https://www.openshift.com/"><img src="http://fotos.subefotos.com/57622f5e03b9cb3ed8dbbbfcc030e2d9o.jpg" alt="OpenShift" /></a></p>

<h3>¿Qué ofrece OpenShift?</h3>

<ul>
<li><a href="https://developers.openshift.com/en/node-js-overview.html">Dispone de NodeJS</a></li>
<li><a href="https://developers.openshift.com/en/databases-mongodb.html">Dispone de MongoDB</a></li>
<li>Base de datos de 1GB (por año)</li>
<li>Dispone de SSL</li>
<li>La empresa que está detrás es <a href="https://www.redhat.com/">Red Hat</a></li>
<li><a href="https://www.openshift.com/products/pricing">Más info</a></li>
</ul>


<p>Comentarios:
    hay menos información respecto a qué ofrece si lo comparamos con Heroku. Según diversos foros, es menos flexible que otros sistemas</p>

<p>Debido a todas las características anteriormente mencionadas, decidimos desplegar nuestra aplicación sobre Heroku.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Documentación Inicial]]></title>
    <link href="http://iblancasa.github.io/BackendSI2-IV/blog/2014/12/14/documentacion-inicial/"/>
    <updated>2014-12-14T17:48:36+01:00</updated>
    <id>http://iblancasa.github.io/BackendSI2-IV/blog/2014/12/14/documentacion-inicial</id>
    <content type="html"><![CDATA[<h2>Descripción</h2>

<p>Este proyecto pretende dar como resultado una aplicación servidor que permita la comunicación entre usuarios y entidades.  Además, se quiere que su desarrollo esté orientado a la nube.</p>

<p>El proyecto no tiene nombre ahora mismo por lo que nos referiremos a él como &ldquo;Backend para sistema de comunicación SI2&rdquo;.</p>

<h2>Características</h2>

<ul>
<li>La comunicación no se hará entre todos los usuarios. Solo se hará entre usuarios y entidades</li>
<li>Las conversaciones deben ser persistentes, es decir, deben de poder guardarse en el servidor</li>
<li>Deberá llevarse un registro de entidades, usuarios, relaciones entre estos, mensajes&hellip;</li>
<li>Se podrán enviar textos, ficheros de audios, imágenes&hellip;</li>
<li>Más adelante, se introducirán sistemas de cifrado como GPG u otro similar</li>
<li>Sería interesante añadir la certificación del envío de mensajes por parte de una tercera empresa (es decir, externa a nuestra aplicación)
<img src="http://i.imgur.com/VEV4Lw7.jpg" alt="Diagrama1" /></li>
</ul>


<p><em>Figura 1. Cómo ven los usuarios la interacción con nuestro backend</em></p>

<h2>Herramientas a utilizar</h2>

<p>En primer lugar, en cuanto al lenguaje de programación, se planteaban algunas alternativas como puede ser &ldquo;<a href="http://www.erlang.org/">Erlang</a>&rdquo; (utilizado por la compañía <a href="https://www.whatsapp.com/">WhatsApp</a>). Finalmente, debido al gran auge que está teniendo y el <a href="http://strongloop.com/strongblog/node-js-is-faster-than-java/">grado de concurrencia que soporta</a> (entre otros) decidimos optar por NodeJS. Además, existe mucha documentación de este lenguaje, que se está extendiendo gracias a que su base es JavaScript (lenguaje muy utilizado por los desarrolladores web).</p>

<p>Como hay que gestionar persistencia (para guardar usuarios, entidades&hellip;) es necesario algún sistema de bases de datos. Ya que no será necesario establecer una fuerte dependencia entre unas tablas y otras, se requiere alta velocidad y escalabilidad y gestión de ficheros binarios (audio, imágen&hellip;) se quiere utilizar una base de datos <a href="http://es.wikipedia.org/wiki/NoSQL">NoSQL</a>. Dentro de esta categoría de bases de datos (que también se encuentran en pleno auge), hemos decidido utilizar <a href="http://www.mongodb.org/">MongoDB</a>. La razón de esta elección es que es uno de los sistemas gestores de bases de datos NoSQL más utilizado, lo que nos facilitará encontrar documentación.</p>

<p>Es claro que un proyecto de estas características, donde será probable que necesitemos escalar (sobre todo a ciertas horas) y que ṕrecisará de álta disponibilidad, debe hacerse en una plataforma cloud. Tras estudiar algunos, finalmente decidimos elegir <a href="https://www.heroku.com/">Heroku</a>. Esta empresa ofrece una versión gratuíta de su PaaS (Plataform as a Service) que nos brindará todos los elementos necesarios para el desarrollo de nuestra aplicación, además de abstraernos de la instalación de las herramientas, así como de su mantenimiento. Cabe mencionar entre sus características su integración con la plataforma GitHub y el soporte oficial que brindan de la biblioteca Node.js.</p>

<p>Finalmente, siendo un poco más concisos, vamos a ayudarnos de &ldquo;<a href="http://socket.io/">Socket.io</a>&rdquo;, una biblioteca JavaScript compatible con NodeJS y que nos brinda algunas opciones muy interesantes para la comunicación entre servidor y cliente. En su página web, se nos ofrece un <a href="http://socket.io/">interesante tutorial sobre cómo realizar un pequeño chat</a>, lo cual puede servir como base a nuestro sistema. Hay que tener en cuenta que, como los propios desarrolladores de la biblioteca dicen en su página web, la comunicación solo se puede establecer si los dos extremos de la comunicación utilizan la biblioteca (no vale utilizar Websockets ni similares). Es por ello que, para el desarrollo del cliente hemos tenido cuidado de que exista forma de conectarlo con, por ejemplo, dispositivos Android (<a href="https://github.com/nkzawa/socket.io-client.java">un ejemplo de una biblioteca que permite la comunicación utilizando Java</a>). Anque esta última observación no es importante para el desarrollo de nuestra parte de nuestro proyecto, si es un punto a tener en cuenta por los trabajadores de SI2.</p>

<h2>Una primera aproximación</h2>

<p><img src="http://i.imgur.com/vl39RsZ.jpg" alt="Diagrama2" /></p>

<p><em>Figura 2. La aplicación y los sistemas utilizados</em></p>

<p><a href="http://iblancasa.github.io/BackendSI2-IV/">Página web del proyecto</a></p>

<p>También nos hemos registrado en el <a href="http://osl.ugr.es/2014/09/26/premios-a-proyectos-libres-de-la-ugr/">Certamen de Proyectos Libres de la OSL</a></p>
]]></content>
  </entry>
  
</feed>
